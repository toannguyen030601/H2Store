
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using X.PagedList.Mvc.Core;
@model X.PagedList.IPagedList<asm1.Entities.DienThoai>

<div class="container-fluid">
    <div>
        <div class="mt-3">
            @foreach (var item in ViewBag.Loaidt)
            {
                <a class="btn btn-primary" asp-controller="DienThoaiClient" asp-action="Index" asp-route-danhmuc="@item.MaLoaiDt" class="text-decoration-none">
                    @item.TenLoaiDt
                </a>
            }
            <a class="btn btn-danger" asp-controller="DienThoaiClient" asp-action="Index">
                <i class="bi bi-x-square"></i>
            </a>
        </div>

        <nav class="row navbar navbar-expand-lg">
            
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown1" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown1">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown mt-3">
                            <form asp-action="Index" method="get" class="form-check-inline">
                                <div class="input-group">
                                    <input class="form-control" type="text" name="TenDt" placeholder="Nhập tên cần tìm" />
                                    <button class="btn btn-light btn-group border border-dark">Tìm</button>
                                </div>
                            </form>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#2" role="button" data-bs-toggle="dropdown" id="dropdownLienhe3">
                                Giá
                            </a>
                            <ul class="dropdown-menu dropdown-menu-lg-end" aria-labelledby="dropdownLienhe3">
                                <li><a class="dropdown-item btn" href="?priceRange=thapdencao">Từ thấp -> cao</a></li>
                                <li><a class="dropdown-item btn" href="?priceRange=duoi2tr">Dưới 2 triệu</a></li>
                                <li><a class="dropdown-item btn" href="?priceRange=2den4tr">Từ 2 triệu dến 4 triệu</a></li>
                                <li><a class="dropdown-item btn" href="?priceRange=tren4tr">Từ 4 triệu trở lên</a></li>
                                <li><a class="dropdown-item btn" href="?priceRange=caodenthap">Từ cao -> thấp</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#2" role="button" data-bs-toggle="dropdown" id="dropdownLienhe6">
                                RAM
                            </a>
                            <ul class="dropdown-menu dropdown-menu-lg-end" aria-labelledby="dropdownLienhe6">
                                <li><a class="dropdown-item btn" asp-route-ramdt="2GB">2GB</a></li>
                                <li><a class="dropdown-item btn" asp-route-ramdt="3GB">3GB</a></li>
                                <li><a class="dropdown-item btn" asp-route-ramdt="4GB">4GB</a></li>
                                <li><a class="dropdown-item btn" asp-route-ramdt="6GB">6GB</a></li>
                                <li><a class="dropdown-item btn" asp-route-ramdt="8GB">8GB</a></li>
                                <li><a class="dropdown-item btn" asp-route-ramdt="16GB">16GB</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#2" role="button" data-bs-toggle="dropdown" id="dropdownLienhe6">
                                Dung lượng lưu trữ
                            </a>
                            <ul class="dropdown-menu dropdown-menu-lg-end" aria-labelledby="dropdownLienhe6" >
                                <li><a class="dropdown-item" asp-route-dungluong="32GB">32GB</a></li>
                                <li><a class="dropdown-item" asp-route-dungluong="64GB">64GB</a></li>
                                <li><a class="dropdown-item" asp-route-dungluong="128GB">128GB</a></li>
                                <li><a class="dropdown-item" asp-route-dungluong="256GB">256GB</a></li>
                                <li><a class="dropdown-item" asp-route-dungluong="512GB">512GB</a></li>
                                <li><a class="dropdown-item" asp-route-dungluong="1TB">1TB</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

        </nav>
        
    </div>

    <div class="mt-3 text-center">
        <h2>
            <a class="text-decoration-none text-dark" href="#">
                <i class="bi bi-phone"></i>
                <span>ĐIỆN THOẠI</span>
            </a>
        </h2>
    </div>
    <div class="row fw-bold">
        @foreach(var item in Model)
        {
            <div class="proc mt-3 col-md-6 col-lg-3">
                <div class="card" style="height: 400px;">
                    <div class="card-body d-flex justify-content-center align-items-center flex-column" style="max-height: 350px;">
                        <div class="flex-grow-1 d-flex justify-content-center align-items-center" style="height: 95%;">
                            <a asp-controller="DienThoaiClient" asp-action="Detail" asp-route-id="@item.MaDt" style="height: 100%;">
                                <div class="d-flex justify-content-center align-items-center" style="height: 100%;">
                                    <img class="img-proc img-thumbnail img-fluid" src="~/images/DienThoai/@item.HinhAnh" alt="" style="max-height: 95%;">
                                </div>
                            </a>
                        </div>
                        <div class="mt-1 d-flex justify-content-center col-2">
                            <img class="rounded-circle border border-dark m-1 p-1" src="~/images/DienThoai/@item.HinhAnh" alt="" height="30px" width="30px">
                            <img class="rounded-circle border border-dark m-1 p-1" src="~/images/DienThoai/@item.HinhAnh" alt="" height="30px" width="30px">
                            <img class="rounded-circle border border-dark m-1 p-1" src="~/images/DienThoai/@item.HinhAnh" alt="" height="30px" width="30px">
                            <img class="rounded-circle border border-dark m-1 p-1" src="~/images/DienThoai/@item.HinhAnh" alt="" height="30px" width="30px">
                        </div>
                    </div>
                    <div class="text-center">
                        <a asp-controller="DienThoaiClient" asp-action="Detail" asp-route-id="@item.MaDt" class="text-decoration-none">
                            <span>@item.TenDt ( @item.Ram - @item.DungLuong )</span>
                        </a>
                        <div>
                            <span class="text-danger fw-bold">@item.Gia.ToString("#,###") VNĐ</span>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>

    <div class="row mt-3">
        @Html.PagedListPager(Model, page => Url.Action("Index", new { page = page, danhmuc = ViewBag.DanhMuc, TenDt = ViewBag.TenDt, priceRange = ViewBag.PriceRange, ramdt = ViewBag.RamDt, dungluong = ViewBag.DungLuong }), new PagedListRenderOptions { Display = PagedListDisplayMode.IfNeeded, DisplayPageCountAndCurrentLocation = true, MaximumPageNumbersToDisplay = 5 })
    </div>
    <style>
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            list-style: none;
            padding: 0;
        }

            .pagination li {
                margin: 0 5px;
            }

                .pagination li a {
                    color: #007bff;
                    text-decoration: none;
                    padding: 5px 10px;
                    border: 1px solid #007bff;
                    border-radius: 3px;
                }

                .pagination li.active a {
                    background-color: #007bff;
                    color: #fff;
                    border-color: #007bff;
                }

                .pagination li.disabled a {
                    color: #ccc;
                    pointer-events: none;
                }
    </style>

</div>




